import{g as N,d as g,o as t,c as p,r as M,m as b,b as m,l as x,s as O,q,x as j,f,a as u,n as A,w as c,e as C,t as I,h as V,T as X,y as z,i as $,j as G,z as K,A as P,B as F,C as E,k as H,F as L,p as R,D as Z,E as Y,u as k,G as J}from"./index-B-c-jZSJ.js";import{_ as v,A as w,a as Q}from"./AppTypography-8rqeKAAl.js";const W="/reg",ee={register(o){return N.post(W,o)}},te=g({__name:"AppButton",props:{icon:{type:Boolean,default:!1}},setup(o){return(e,r)=>(t(),p("button",b({class:["button",{icon:e.icon}],type:"button"},e.$attrs),[M(e.$slots,"default",{},void 0,!0)],16))}}),T=v(te,[["__scopeId","data-v-9ca20031"]]),oe={},se={class:"overlay"};function ae(o,e){return t(),p("div",se,[M(o.$slots,"default",{},void 0,!0)])}const le=v(oe,[["render",ae],["__scopeId","data-v-6cba0fda"]]),ne={},re={width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ue(o,e){return t(),p("svg",re,e[0]||(e[0]=[m("path",{d:"M1 1L17 17M17 1L1 17",stroke:"white","stroke-width":"2","stroke-linecap":"round"},null,-1)]))}const ie=v(ne,[["render",ue]]),de={class:"modal__inner"},ce={class:"header"},pe=g({__name:"AppModal",props:{modelValue:{type:Boolean},title:{default:""}},emits:["update:modelValue"],setup(o,{emit:e}){const r=e,i=x(null),n=()=>{i.value&&i.value.focus()},a=()=>{r("update:modelValue",!1)};O(()=>o.modelValue,d=>{d&&z(()=>{n()})});const s=d=>{if(!i.value)return;const _=i.value.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled])"),h=_[0],l=_[_.length-1];if(d.key==="Tab"){if(d.shiftKey){document.activeElement===h&&(d.preventDefault(),l.focus());return}document.activeElement===l&&(d.preventDefault(),h.focus())}};return q(()=>{document.addEventListener("keydown",s)}),j(()=>{document.removeEventListener("keydown",s)}),(d,_)=>(t(),f(X,{to:"#modal-root"},[d.modelValue?(t(),p("div",{key:0,ref_key:"modalRef",ref:i,class:"modal",tabindex:-1},[u(le,{onClick:A(a,["self"])}),m("div",de,[m("header",ce,[d.title?(t(),f(w,{key:0,class:"header__title",is:"h2",variant:"h2"},{default:c(()=>[C(I(d.title),1)]),_:1})):V("",!0),u(T,{class:"header__close",icon:"",onClick:a},{default:c(()=>[u(ie)]),_:1})]),M(d.$slots,"default",{},void 0,!0)])],512)):V("",!0)]))}}),me=v(pe,[["__scopeId","data-v-49698d16"]]),_e=g({__name:"InputLabel",props:{text:{}},setup(o){return(e,r)=>(t(),f(w,b({class:"text",variant:"small"},e.$attrs),{default:c(()=>[C(I(e.text),1)]),_:1},16))}}),fe=v(_e,[["__scopeId","data-v-f9f9789b"]]),ve=g({__name:"InputError",props:{text:{}},setup(o){return(e,r)=>(t(),f(w,b({class:"text",variant:"small"},e.$attrs),{default:c(()=>[C(I(e.text),1)]),_:1},16))}}),ge=v(ve,[["__scopeId","data-v-3d46221f"]]),he=g({__name:"InputCounter",props:{value:{},maxValue:{default:null}},setup(o){const e=$(()=>`${o.value}${o.maxValue?`/${o.maxValue}`:""}`);return(r,i)=>(t(),f(w,b({class:"counter",variant:"small"},r.$attrs),{default:c(()=>[C(I(e.value),1)]),_:1},16))}}),Ce=v(he,[["__scopeId","data-v-43fc40f4"]]),we={class:"wrapper"},ye={class:"wrapper__input"},Ve={class:"input"},ke={key:1,class:"wrapper__footer footer"},$e=g({__name:"AppInput",props:{modelValue:{},label:{default:""},errors:{default:()=>[]},counterValue:{default:null},counterMaxValue:{default:null}},emits:["update:modelValue"],setup(o,{emit:e}){const r=e,i=$({get(){return o.modelValue},set(s){r("update:modelValue",s)}}),n=$(()=>o.errors[0]),a=$(()=>o.counterValue!==null);return(s,d)=>(t(),p("div",we,[s.label?(t(),f(fe,{key:0,class:"wrapper__label",text:s.label},null,8,["text"])):V("",!0),m("div",ye,[m("label",Ve,[G(m("input",b({"onUpdate:modelValue":d[0]||(d[0]=_=>i.value=_),class:"native-input"},s.$attrs),null,16),[[K,i.value]])]),M(s.$slots,"append-inner",{},void 0,!0)]),n.value||a.value?(t(),p("div",ke,[n.value?(t(),f(ge,{key:0,class:"footer__error",text:n.value},null,8,["text"])):V("",!0),a.value?(t(),f(Ce,{key:1,class:"footer__counter",value:s.counterValue,"max-value":s.counterMaxValue},null,8,["value","max-value"])):V("",!0)])):V("",!0)]))}}),D=v($e,[["__scopeId","data-v-837ea207"]]),Le={},xe={width:"18",height:"14",viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Me(o,e){return t(),p("svg",xe,e[0]||(e[0]=[m("path",{d:"M17 7C17 8.15478 16.2206 9.64926 14.7228 10.9006C13.2537 12.128 11.2258 13 9 13C6.77424 13 4.7463 12.128 3.27718 10.9006C1.77936 9.64926 1 8.15478 1 7C1 5.84522 1.77936 4.35074 3.27718 3.09941C4.7463 1.87204 6.77424 1 9 1C11.2258 1 13.2537 1.87204 14.7228 3.09941C16.2206 4.35074 17 5.84522 17 7Z",stroke:"#B1C909","stroke-width":"2"},null,-1),m("circle",{cx:"9",cy:"7",r:"3",stroke:"#B1C909","stroke-width":"2"},null,-1)]))}const be=v(Le,[["render",Me]]),Ie={},Be={width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ae(o,e){return t(),p("svg",Be,e[0]||(e[0]=[m("path",{d:"M17 8C17 9.15478 16.2206 10.6493 14.7228 11.9006C13.2537 13.128 11.2258 14 9 14C6.77424 14 4.7463 13.128 3.27718 11.9006C1.77936 10.6493 1 9.15478 1 8C1 6.84522 1.77936 5.35074 3.27718 4.09941C4.7463 2.87204 6.77424 2 9 2C11.2258 2 13.2537 2.87204 14.7228 4.09941C16.2206 5.35074 17 6.84522 17 8Z",stroke:"#B1C909","stroke-width":"2"},null,-1),m("circle",{cx:"9",cy:"8",r:"3",stroke:"#B1C909","stroke-width":"2"},null,-1),m("path",{d:"M2 1L16 15",stroke:"#B1C909","stroke-width":"2"},null,-1)]))}const Ee=v(Ie,[["render",Ae]]),Ze=g({__name:"PasswordInput",props:{modelValue:{},mode:{default:"password"}},emits:["update:modelValue"],setup(o,{emit:e}){const r=e,i=$({get(){return o.modelValue},set(_){r("update:modelValue",_)}}),n=x(o.mode),a={password:{type:"password",icon:be,title:"Показать пароль"},email:{type:"text",icon:Ee,title:"Скрыть пароль"}},s=$(()=>a[n.value]),d=()=>{if(n.value==="password"){n.value="email";return}n.value="password"};return(_,h)=>(t(),f(D,b({modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=l=>i.value=l),label:"Пароль",type:s.value.type},_.$attrs),{"append-inner":c(()=>[(t(),f(P(s.value.icon),{class:"icon",title:s.value.title,onClick:A(d,["stop"])},null,8,["title"]))]),_:1},16,["modelValue","type"]))}}),U=v(Ze,[["__scopeId","data-v-2a8a98ca"]]),Te={class:"error"},Se=g({__name:"ErrorMessage",props:{text:{}},setup(o){return(e,r)=>(t(),p("div",Te,[u(w,{class:"error__text",variant:"small"},{default:c(()=>[C(I(e.text),1)]),_:1})]))}}),B=v(Se,[["__scopeId","data-v-fdc119f7"]]),Ue={class:"form__actions actions"},Fe={class:"actions__navigation"},De={key:0,class:"errors"},Pe=g({__name:"LoginForm",emits:["toggle:form-type"],setup(o,{emit:e}){const r=e,i=F(),n=E(),a=H({email:"",password:""}),s=x(""),d=()=>{r("toggle:form-type")},_=async()=>{try{await n.login(a),i.push({name:Z.notes.name})}catch(h){s.value=h.response.data.message}};return(h,l)=>(t(),p(L,null,[m("form",{class:"form",onSubmit:A(_,["prevent"])},[u(D,{modelValue:a.email,"onUpdate:modelValue":l[0]||(l[0]=y=>a.email=y),type:"email",label:"Email",placeholder:"Введите Email"},null,8,["modelValue"]),u(U,{modelValue:a.password,"onUpdate:modelValue":l[1]||(l[1]=y=>a.password=y),placeholder:"Введите пароль"},null,8,["modelValue"]),m("div",Ue,[m("span",Fe,[u(w,{variant:"small"},{default:c(()=>l[2]||(l[2]=[C("У вас нет аккаунта?")])),_:1}),u(w,{class:"link",onClick:d},{default:c(()=>l[3]||(l[3]=[C(" Зарегистрируйтесь ")])),_:1})]),u(T,{type:"submit"},{default:c(()=>[u(w,null,{default:c(()=>l[4]||(l[4]=[C("Войти")])),_:1})]),_:1})])],32),s.value?(t(),p("div",De,[Array.isArray(s.value)?(t(!0),p(L,{key:0},R(s.value,(y,S)=>(t(),f(B,{key:S,text:y},null,8,["text"]))),128)):(t(),f(B,{key:1,text:s.value},null,8,["text"]))])):V("",!0)],64))}}),He=v(Pe,[["__scopeId","data-v-690e84a2"]]),Re={class:"form__actions actions"},Ne={class:"actions__navigation"},Oe={key:0,class:"errors"},qe=g({__name:"RegisterForm",emits:["toggle:form-type"],setup(o,{emit:e}){const r=e,i=F(),n=E(),a=H({email:"",password:"",confirm_password:""}),s=x(""),d=()=>{r("toggle:form-type")},_=async()=>{try{await ee.register(a),await n.login({email:a.email,password:a.password}),i.push({name:Z.notes.name})}catch(h){s.value=h.response.data.message}};return(h,l)=>(t(),p(L,null,[m("form",{class:"form",onSubmit:A(_,["prevent"])},[u(D,{modelValue:a.email,"onUpdate:modelValue":l[0]||(l[0]=y=>a.email=y),type:"email",label:"Email",placeholder:"Введите Email"},null,8,["modelValue"]),u(U,{modelValue:a.password,"onUpdate:modelValue":l[1]||(l[1]=y=>a.password=y),placeholder:"Введите пароль"},null,8,["modelValue"]),u(U,{modelValue:a.confirm_password,"onUpdate:modelValue":l[2]||(l[2]=y=>a.confirm_password=y),label:"Пароль еще раз",placeholder:"Введите пароль еще раз"},null,8,["modelValue"]),m("div",Re,[m("span",Ne,[u(w,{variant:"small"},{default:c(()=>l[3]||(l[3]=[C("У вас есть аккаунт?")])),_:1}),u(w,{class:"link",onClick:d},{default:c(()=>l[4]||(l[4]=[C(" Войдите ")])),_:1})]),u(T,{type:"submit"},{default:c(()=>[u(w,null,{default:c(()=>l[5]||(l[5]=[C("Зарегистрироваться")])),_:1})]),_:1})])],32),s.value?(t(),p("div",Oe,[Array.isArray(s.value)?(t(!0),p(L,{key:0},R(s.value,(y,S)=>(t(),f(B,{key:S,text:y},null,8,["text"]))),128)):(t(),f(B,{key:1,text:s.value},null,8,["text"]))])):V("",!0)],64))}}),je=v(qe,[["__scopeId","data-v-af513df4"]]),Xe=g({__name:"AuthModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(o,{emit:e}){const r=e,i=$({get(){return o.modelValue},set(_){r("update:modelValue",_)}}),n=x("login"),a={login:{is:He,title:"Вход в ваш аккаунт"},register:{is:je,title:"Регистрация"}},s=$(()=>a[n.value]),d=()=>{if(n.value==="login"){n.value="register";return}n.value="login"};return(_,h)=>(t(),f(me,{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=l=>i.value=l),title:s.value.title},{default:c(()=>[(t(),f(P(s.value.is),{"onToggle:formType":d},null,32))]),_:1},8,["modelValue","title"]))}}),ze={},Ge={width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ke(o,e){return t(),p("svg",Ge,e[0]||(e[0]=[m("path",{d:"M6.3079 4.54487C5.90926 4.92711 5.89596 5.56013 6.2782 5.95877C6.66044 6.35741 7.29347 6.3707 7.6921 5.98846L6.3079 4.54487ZM7.6921 28.0115C7.29347 27.6293 6.66044 27.6426 6.2782 28.0412C5.89596 28.4399 5.90926 29.0729 6.3079 29.4551L7.6921 28.0115ZM1 16C0.447715 16 0 16.4477 0 17C0 17.5523 0.447715 18 1 18V16ZM23 17L23.7071 17.7071C24.0976 17.3166 24.0976 16.6834 23.7071 16.2929L23 17ZM16.2929 22.2929C15.9024 22.6834 15.9024 23.3166 16.2929 23.7071C16.6834 24.0976 17.3166 24.0976 17.7071 23.7071L16.2929 22.2929ZM17.7071 10.2929C17.3166 9.90237 16.6834 9.90237 16.2929 10.2929C15.9024 10.6834 15.9024 11.3166 16.2929 11.7071L17.7071 10.2929ZM32 17C32 25.3158 25.4872 32 17.5227 32V34C26.6539 34 34 26.3573 34 17H32ZM17.5227 2C25.4872 2 32 8.68416 32 17H34C34 7.64273 26.6539 0 17.5227 0V2ZM7.6921 5.98846C10.2781 3.50887 13.7316 2 17.5227 2V0C13.1867 0 9.2448 1.72879 6.3079 4.54487L7.6921 5.98846ZM17.5227 32C13.7316 32 10.2781 30.4911 7.6921 28.0115L6.3079 29.4551C9.2448 32.2712 13.1867 34 17.5227 34V32ZM1 18H23V16H1V18ZM22.2929 16.2929L16.2929 22.2929L17.7071 23.7071L23.7071 17.7071L22.2929 16.2929ZM23.7071 16.2929L17.7071 10.2929L16.2929 11.7071L22.2929 17.7071L23.7071 16.2929Z",fill:"white"},null,-1)]))}const Ye=v(ze,[["render",Ke]]),Je=g({__name:"LoginButton",setup(o){const e=x(!1),r=()=>{e.value=!0};return(i,n)=>(t(),p(L,null,[u(T,{onClick:r},{default:c(()=>[u(Ye),u(w,null,{default:c(()=>n[1]||(n[1]=[C("Вход")])),_:1})]),_:1}),e.value?(t(),f(Xe,{key:0,modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=a=>e.value=a)},null,8,["modelValue"])):V("",!0)],64))}}),Qe="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='28'%20cy='28'%20r='28'%20fill='%231B2F46'/%3e%3ccircle%20cx='28'%20cy='20'%20r='5'%20stroke='white'%20stroke-width='2'/%3e%3cpath%20d='M38%2042V34C38%2031.7909%2036.2091%2030%2034%2030H22C19.7909%2030%2018%2031.7909%2018%2034V42'%20stroke='white'%20stroke-width='2'/%3e%3c/svg%3e",We={class:"info"},et={key:0,class:"info__dropdown"},tt=["src"],ot=g({__name:"ProfileInfo",setup(o){const e=F(),r=Y(),i=E(),n=x(!1),a=()=>{n.value=!n.value},s=async()=>{try{await i.logout(),e.push({name:Z.home.name})}catch{}};return(d,_)=>(t(),p("div",We,[k(r).user?(t(),p(L,{key:0},[u(w,{class:"info__name",variant:"small"},{default:c(()=>[C(I(k(r).user.email),1)]),_:1}),n.value?(t(),p("div",et,[u(w,{class:"link",variant:"small-bold",onClick:s},{default:c(()=>_[0]||(_[0]=[C(" Выйти ")])),_:1})])):V("",!0)],64)):V("",!0),m("div",null,[m("img",{class:"info__image",alt:"User profile placeholder image.",src:k(Qe),onClick:a},null,8,tt)])]))}}),st=v(ot,[["__scopeId","data-v-2b8cebfa"]]),at="/vue-notes/assets/logo-Dq0cUShY.svg",lt="data:image/svg+xml,%3csvg%20width='37'%20height='36'%20viewBox='0%200%2037%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.807%2017.0372C10.0543%2017.2429%209.60763%2018.0323%209.80932%2018.8003C10.011%2019.5683%2010.7847%2020.0241%2011.5374%2019.8183L25.8184%2015.914C26.5711%2015.7082%2027.0178%2014.9188%2026.8161%2014.1508C26.6144%2013.3828%2025.8407%2012.9271%2025.088%2013.1329L10.807%2017.0372Z'%20fill='%23B1C909'/%3e%3cpath%20d='M11.0269%2023.4366C10.8252%2022.6686%2011.2719%2021.8792%2012.0246%2021.6734L26.3055%2017.7691C27.0582%2017.5633%2027.8319%2018.0191%2028.0336%2018.7871C28.2353%2019.5551%2027.7886%2020.3445%2027.0359%2020.5503L12.755%2024.4545C12.0022%2024.6603%2011.2286%2024.2046%2011.0269%2023.4366Z'%20fill='%23B1C909'/%3e%3cpath%20d='M17.1369%2025.2448C16.3842%2025.4506%2015.9375%2026.24%2016.1392%2027.008C16.3409%2027.776%2017.1146%2028.2317%2017.8673%2028.026L24.3586%2026.2513C25.1114%2026.0455%2025.558%2025.2561%2025.3564%2024.4881C25.1547%2023.7201%2024.381%2023.2643%2023.6283%2023.4701L17.1369%2025.2448Z'%20fill='%23B1C909'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M32.5004%206.91782L18.8561%200L4.18456%204.01108C1.17372%204.83421%20-0.613038%207.99184%200.193712%2011.0638L5.62109%2031.7305C6.42784%2034.8024%209.52261%2036.6255%2012.5334%2035.8024L32.7887%2030.2647C35.7995%2029.4416%2037.5863%2026.284%2036.7795%2023.212L32.5004%206.91782ZM4.91493%206.79224L18.2236%203.15376L19.3719%207.52622C19.9769%209.83021%2022.298%2011.1975%2024.5561%2010.5801L30.1398%209.05361L34.0538%2023.9572C34.4571%2025.4932%2033.5637%2027.072%2032.0583%2027.4836L11.8031%2033.0212C10.2976%2033.4328%208.75026%2032.5212%208.34689%2030.9853L2.91951%2010.3186C2.51613%208.78261%203.40952%207.2038%204.91493%206.79224ZM21.5153%204.56339L26.4708%207.07587L23.8258%207.79899C23.0731%208.00477%2022.2994%207.54901%2022.0977%206.78101L21.5153%204.56339Z'%20fill='%23B1C909'/%3e%3c/svg%3e",nt={class:"header"},rt=["src"],ut=g({__name:"AppHeader",setup(o){const e=E(),r=window.matchMedia("(max-width: 576px)").matches;return(i,n)=>{const a=J("RouterLink");return t(),p("header",nt,[u(Q,{class:"header__inner"},{default:c(()=>[u(a,{to:{name:k(Z).home.name}},{default:c(()=>[m("img",{src:k(r)?k(lt):k(at),alt:"MyNotes site logo."},null,8,rt)]),_:1},8,["to"]),M(i.$slots,"default",{},void 0,!0),k(e).isAuth?(t(),f(st,{key:0})):(t(),f(Je,{key:1}))]),_:3})])}}}),it=v(ut,[["__scopeId","data-v-a80f361a"]]),dt={class:"main"},ct=g({__name:"MainLayout",setup(o){return(e,r)=>(t(),p(L,null,[u(it),m("main",dt,[M(e.$slots,"default",{},void 0,!0)])],64))}}),_t=v(ct,[["__scopeId","data-v-9c6c2ae8"]]);export{T as A,B as E,fe as I,_t as M,ie as X,ge as a,Ce as b,D as c,me as d};
